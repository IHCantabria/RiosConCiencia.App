(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d59eddea"],{"004e":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-section"},[t.isFormValid?i("div",{staticClass:"block"},[i("b-message",{staticClass:"results-display",attrs:{title:"Resumen",type:"is-success",closable:!1}},[i("b-field",{attrs:{label:"Hábitat Fluvial"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.habitatQuality.results.habitatIndex.cat.name))])],1),i("b-field",{attrs:{label:"Calidad Biológica del Agua"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.bioQuality.results.bioQualityIndex.name))])],1),i("b-field",{attrs:{label:"Calidad del Bosque de Ribera"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.riverQuality.results.qrisiIndex.cat.name))])],1)],1)],1):t._e(),i("h5",{staticClass:"title is-5"},[t._v("8. Estado Ecológico")]),i("div",[t.isFormValid?i("div",{staticClass:"block"},[i("b-message",{staticClass:"results-display",attrs:{title:t.ecoStatusIndex.name,type:"is-info",closable:!1}},[t._v(" "+t._s(t.ecoStatusIndex.description)+" "),i("div",{staticClass:"results__rate"},[i("b-rate",{attrs:{"icon-pack":"mdi",icon:"star",size:"is-medium","show-text":!1,disabled:!0},model:{value:t.ecoStatusIndex.value,callback:function(e){t.$set(t.ecoStatusIndex,"value",e)},expression:"ecoStatusIndex.value"}})],1)])],1):i("div",{staticClass:"block"},[i("b-message",{staticClass:"results-display",attrs:{title:"Formulario incompleto",type:"is-warning",closable:!1}},[t._v(" No podras enviar el formulario hasta que completes todos las secciones que estan incompletas. ")])],1),t.isComputedOnline?t._e():i("div",{staticClass:"block"},[i("b-message",{staticClass:"results-display",attrs:{title:"Estado sin conexión",type:"is-warning",closable:!1}},[t._v(" Actualmente te encuentras sin conexión a internet, no podras enviar el formulario hasta que dispongas de conexión. ")])],1)]),i("div",{staticClass:"big-button"},[i("b-button",{attrs:{type:"is-danger",size:"is-medium",expanded:"",disabled:!t.isReadySend},on:{click:function(e){return t.sendSampleData()}}},[t._v("Enviar Resultados")])],1),i("spinner",{attrs:{"is-loading":t.isSendingData}})],1)},n=[],a=(i("a4d3"),i("e01a"),i("d28b"),i("4de4"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("3ca3"),i("159b"),i("ddb0"),i("96cf"),i("ade3")),r=i("5797"),o=i("2f62");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={name:"FormEcoResult",components:{spinner:function(){return i.e("chunk-5e45d951").then(i.bind(null,"3a5e"))}},data:function(){return{values:{ecoStatus:{}},isSendingData:!1}},computed:u({},Object(o["d"])({user:function(t){return t.user},statusOptions:function(t){return t.formSections.ecoResult.data.ecologicalStateOptions},formSections:function(t){return t.formSections},habitatQuality:function(t){return t.formSections.habitat},riverQuality:function(t){return t.formSections.riverQuality},bioQuality:function(t){return t.formSections.biological}}),{},Object(o["c"])({isFormValid:"isFormValid"}),{ecoStatusIndex:function(){return this.isFormValid?this.calculateStatus():null},isReadySend:function(){return this.isFormValid&&this.isComputedOnline},isSectionValid:function(){return null!==this.ecoStatusIndex}}),beforeUpdate:function(){this.updateSpecificSectionValues({name:"ecoResult",values:this.values,isValid:this.isSectionValid})},methods:u({},Object(o["b"])({updateSpecificSectionValues:"updateSpecificSectionValues"}),{calculateStatus:function(){var t=this.riverQuality.results.qrisiIndex.cat.value,e=this.bioQuality.results.bioQualityIndex.value;return 3===t?this._getStatusForGoodQrisi(e):2===t?this._getStatusForIntermediateQrisi(e):1===t?this._getStatusForBadQrisi(e):void 0},sendSampleData:function(){var t,e=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return this.values.ecoStatus=this.ecoStatusIndex,t=this._prepareSampleObj(),i.prev=2,this.isSendingData=!0,i.next=6,regeneratorRuntime.awrap(Object(r["d"])(this.user.token,t));case 6:this.$buefy.toast.open({message:"¡Enhorabuena! El formulario se ha enviado con éxito",type:"is-success",duration:3e3}),setTimeout((function(){e.$root.$emit("clear")}),4e3),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](2),this.$buefy.toast.open({message:"Ooops, se ha producido un error intentando enviar el formulario",type:"is-danger"});case 13:return i.prev=13,this.isSendingData=!1,i.finish(13);case 16:case"end":return i.stop()}}),null,this,[[2,10,13,16]])},_prepareSampleObj:function(){for(var t={},e=0,i=Object.keys(this.formSections);e<i.length;e++){var s=i[e];t=u({},t,{},this.formSections[s].results,{user:this.user,ecoStatus:{cat:this.ecoStatusIndex,totalPoints:0}})}return t.riverMarginConditions=this._setupRiverMarginsValues(this.formSections.basic.results.riverMarginConditionsLeft,this.formSections.basic.results.riverMarginConditionsRight),t.riverMarginLandUse=this._setupRiverMarginsValues(this.formSections.basic.results.riverMarginLandUseLeft,this.formSections.basic.results.riverMarginLandUseRight),t},_setupRiverMarginsValues:function(t,e){var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var c=r.value;c.side=1,i.push(c)}}catch(h){n=!0,a=h}finally{try{s||null==o.return||o.return()}finally{if(n)throw a}}var u=!0,l=!1,d=void 0;try{for(var p,f=e[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var b=p.value;b.side=2,i.push(b)}}catch(h){l=!0,d=h}finally{try{u||null==f.return||f.return()}finally{if(l)throw d}}return i},_getStatusForGoodQrisi:function(t){return 5===t?this.statusOptions[0]:4===t?this.statusOptions[1]:3===t?this.statusOptions[2]:2===t?this.statusOptions[3]:this.statusOptions[4]},_getStatusForIntermediateQrisi:function(t){return 5===t?this.statusOptions[1]:4===t?this.statusOptions[2]:3===t?this.statusOptions[3]:this.statusOptions[4]},_getStatusForBadQrisi:function(t){return 5===t?this.statusOptions[2]:4===t?this.statusOptions[3]:this.statusOptions[4]}})},d=l,p=(i("61bc"),i("2877")),f=Object(p["a"])(d,s,n,!1,null,"7895e5c6",null);e["default"]=f.exports},5797:function(t,e,i){"use strict";i("99af"),i("d3b7"),i("96cf");var s={public:"https://apiriosconciencia.ihcantabria.com/v1/public/RiosConCiencia"},n=i("bc3a"),a=i.n(n);i.d(e,"a",(function(){return u})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return c})),i.d(e,"d",(function(){return l}));var r={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS"},o=function(t,e){var i,n,r;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return i="".concat(s.public,"/Authenticate"),n={email:t,password:e},o.next=4,regeneratorRuntime.awrap(a.a.post(i,n));case 4:return r=o.sent,o.abrupt("return",r.data);case 6:case"end":return o.stop()}}))},c=function(t,e){var i,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return i="".concat(s.public,"/GetRiverSectionsByUserId/").concat(e),r.Authorization="Bearer ".concat(t),o.next=4,regeneratorRuntime.awrap(a.a.get(i,{headers:r}));case 4:return n=o.sent,o.abrupt("return",n.data);case 6:case"end":return o.stop()}}))},u=function(t){var e,i;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return e="".concat(s.public,"/GetSectionsMasterData"),r.Authorization="Bearer ".concat(t),n.next=4,regeneratorRuntime.awrap(a.a.get(e,{headers:r}));case 4:return i=n.sent,n.abrupt("return",i.data);case 6:case"end":return n.stop()}}))},l=function(t,e){var i,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return i="".concat(s.public,"/SaveSample"),r.Authorization="Bearer ".concat(t),o.next=4,regeneratorRuntime.awrap(a.a.post(i,e,{headers:r}));case 4:return n=o.sent,o.abrupt("return",n);case 6:case"end":return o.stop()}}))}},"61bc":function(t,e,i){"use strict";var s=i("7ac6"),n=i.n(s);n.a},"7ac6":function(t,e,i){},d28b:function(t,e,i){var s=i("746f");s("iterator")},e01a:function(t,e,i){"use strict";var s=i("23e7"),n=i("83ab"),a=i("da84"),r=i("5135"),o=i("861d"),c=i("9bf2").f,u=i("e893"),l=a.Symbol;if(n&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(p,l);var f=p.prototype=l.prototype;f.constructor=p;var b=f.toString,h="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=b.call(t);if(r(d,t))return"";var i=h?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),s({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-d59eddea.a8bc68ec.js.map