(function(e){function n(n){for(var o,c,i=n[0],u=n[1],s=n[2],f=0,d=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(n);while(d.length)d.shift()();return r.push.apply(r,s||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],o=!0,c=1;c<t.length;c++){var i=t[c];0!==a[i]&&(o=!1)}o&&(r.splice(n--,1),e=u(u.s=t[0]))}return e}var o={},c={app:0},a={app:0},r=[];function i(e){return u.p+"js/"+({about:"about",formfields:"formfields",formpictos:"formpictos"}[e]||e)+"."+{about:"413cbeb3","chunk-07794f15":"6a20da7b","chunk-2d0e4855":"be5f41ee","chunk-2d21e576":"2e76809b","chunk-2d22d5e8":"a921d51e","chunk-54e53ef4":"d0a896ef","chunk-741f5406":"be7bbceb","chunk-c8b2d8f8":"9cd5640b","chunk-8cbeb9a8":"fabe8b94","chunk-8ccf50aa":"80aa0f73",formfields:"d9064d0b",formpictos:"dc5ea5fc","chunk-26713198":"bfb2c0c5","chunk-5e2d388e":"498ac726","chunk-5e45d951":"6a12bda8","chunk-2bc2ac58":"89d0a1fa","chunk-07fb1fc0":"a81ecb10","chunk-2d0b692a":"b83cfd91","chunk-37a58ed9":"8da8f446","chunk-40a8df7a":"1d9bd654","chunk-4a07784a":"dc5b27b3","chunk-d59eddea":"f900f707","chunk-7acd48b8":"f4d4312a","chunk-bdad35f2":"7c4c6851","chunk-df93f08c":"966f0ee4","chunk-fa6b898a":"9c275865"}[e]+".js"}function u(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(e){var n=[],t={about:1,"chunk-54e53ef4":1,"chunk-c8b2d8f8":1,"chunk-8cbeb9a8":1,"chunk-8ccf50aa":1,formfields:1,"chunk-26713198":1,"chunk-5e2d388e":1,"chunk-5e45d951":1,"chunk-2bc2ac58":1,"chunk-07fb1fc0":1,"chunk-37a58ed9":1,"chunk-40a8df7a":1,"chunk-d59eddea":1,"chunk-7acd48b8":1,"chunk-bdad35f2":1,"chunk-df93f08c":1,"chunk-fa6b898a":1};c[e]?n.push(c[e]):0!==c[e]&&t[e]&&n.push(c[e]=new Promise((function(n,t){for(var o="css/"+({about:"about",formfields:"formfields",formpictos:"formpictos"}[e]||e)+"."+{about:"3481ff57","chunk-07794f15":"31d6cfe0","chunk-2d0e4855":"31d6cfe0","chunk-2d21e576":"31d6cfe0","chunk-2d22d5e8":"31d6cfe0","chunk-54e53ef4":"43bfc9d7","chunk-741f5406":"31d6cfe0","chunk-c8b2d8f8":"23667f3e","chunk-8cbeb9a8":"91bf106b","chunk-8ccf50aa":"38c35ac9",formfields:"796b6831",formpictos:"31d6cfe0","chunk-26713198":"8b56ac30","chunk-5e2d388e":"7bdab32f","chunk-5e45d951":"eda37ca0","chunk-2bc2ac58":"16ea4506","chunk-07fb1fc0":"569e74ca","chunk-2d0b692a":"31d6cfe0","chunk-37a58ed9":"15e1f114","chunk-40a8df7a":"16b3533d","chunk-4a07784a":"31d6cfe0","chunk-d59eddea":"99a7651a","chunk-7acd48b8":"d4b811b7","chunk-bdad35f2":"ebec945e","chunk-df93f08c":"e041c7f8","chunk-fa6b898a":"c32f4203"}[e]+".css",a=u.p+o,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var s=r[i],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===o||f===a))return n()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],f=s.getAttribute("data-href");if(f===o||f===a)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var o=n&&n.target&&n.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete c[e],l.parentNode.removeChild(l),t(r)},l.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(l)})).then((function(){c[e]=0})));var o=a[e];if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(n,t){o=a[e]=[n,t]}));n.push(o[2]=r);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=i(e);var d=new Error;s=function(n){f.onerror=f.onload=null,clearTimeout(l);var t=a[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",d.name="ChunkLoadError",d.type=o,d.request=c,t[1](d)}a[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(n)},u.m=e,u.c=o,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)u.d(t,o,function(n){return e[n]}.bind(null,o));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var l=f;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"146d":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("a026"),c=t("bf4e"),a=t.n(c),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"app grid-container"},[t("header",{staticClass:"app__header"},[t("app-header")],1),t("main",{staticClass:"app__main"},[t("router-view"),t("app-notification-update"),t("app-geo-loader",{on:{"geo-data-ready":e.onGeolocation,"geo-data-error":e.onGeolocationError}}),t("app-offline-manager"),t("app-reset-state")],1),t("footer",{staticClass:"app__footer"},[t("app-footer")],1)])},i=[],u=(t("d3b7"),{mounted:function(){var e=this;window.addEventListener("popstate",(function(){e.$root.$emit("backbutton")}))}}),s={name:"App",components:{AppHeader:function(){return t.e("chunk-54e53ef4").then(t.bind(null,"3f6f"))},AppFooter:function(){return t.e("chunk-8cbeb9a8").then(t.bind(null,"ec0b"))},AppGeoLoader:function(){return t.e("chunk-07794f15").then(t.bind(null,"9532"))},AppResetState:function(){return t.e("chunk-2d21e576").then(t.bind(null,"d4c3"))},AppOfflineManager:function(){return t.e("chunk-2d22d5e8").then(t.bind(null,"f6ce"))},AppNotificationUpdate:function(){return t.e("chunk-2d0e4855").then(t.bind(null,"9129"))}},data:function(){return{geolocationReady:!1,isStateReady:!1}},mixins:[u],created:function(){var e=this;this.$store._vm.$root.$on("storageReady",(function(){e.isStateReady=!0}))},methods:{onGeolocation:function(){this.geolocationReady=!0},onGeolocationError:function(){this.$buefy.toast.open({message:"No es posible Geolocalizar la ubicación",type:"is-danger"})}}},f=s,d=(t("5c0b"),t("2877")),l=Object(d["a"])(f,r,i,!1,null,null,null),m=l.exports,b=(t("96cf"),t("1da1")),h=t("8c4f"),p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"welcome"},[t("intro")],1)},g=[],k=t("8e89"),v={name:"WelcomeView",components:{intro:function(){return t.e("chunk-8ccf50aa").then(t.bind(null,"a380"))}},mixins:[k["a"]]},S=v,y=(t("b20e"),Object(d["a"])(S,p,g,!1,null,"8dadd15c",null)),O=y.exports,_=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login"},[t("login-user")],1)},E=[],w={name:"LoginView",mixins:[k["a"]],components:{"login-user":function(){return Promise.all([t.e("chunk-741f5406"),t.e("chunk-c8b2d8f8")]).then(t.bind(null,"cf32"))}}},j=w,T=(t("fe7f"),Object(d["a"])(j,_,E,!1,null,"6210da48",null)),D=T.exports,A=(t("99af"),t("4160"),t("b0c0"),t("b64b"),t("159b"),t("ddb0"),t("ade3")),R=t("5530"),C=t("2f62"),P=t("a002"),I=t.n(P),V=t("bfa9");function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var t=new V["a"](Object(R["a"])({},e,{storage:I.a,asyncStorage:!0,restoreState:function(e,t){return new Promise((function(o){t.getItem(e).then((function(e){o(e),n._vm.$root.$emit("storageReady")}))}))}}));return t.plugin(n)}}var $,x="SET_USER_POSITION",N="SET_ACTIVE_SECTION",M="LOAD_FORM_DATA",U="SET_ACTIVE_USER",q="SET_SECTION_STATE",F="UPDATE_SECTION_VALUES",G="DELETE_SECTION_VALUES",B="SET_RIVER_SECTIONS_USER",H=t("fa7d");o["a"].use(C["a"]);var Y=[L({})],Q=new C["a"].Store({plugins:[].concat(Y),state:{user:{},userRiverSections:[],userPosition:null,activeSectionId:0,formSections:{}},getters:{isMasterDataLoaded:function(e){return 0!==Object.keys(e.formSections).length},isFirstSection:function(e){return 0===e.activeSectionId},isLastSection:function(e){return e.activeSectionId===Object.keys(e.formSections).length-1},userIsLogged:function(e){return!!e.user.token},activeSectionName:function(e){return Object.keys(e.formSections)[e.activeSectionId]},isFormValid:function(e){return e.formSections.biological.isValid&&e.formSections.init.isValid&&e.formSections.basic.isValid&&e.formSections.habitat.isValid&&e.formSections.ecoSystem.isValid&&e.formSections.riverQuality.isValid},isStateEcoReady:function(e){return Object(H["a"])(e.formSections.riverQuality,"results.qrisiIndex")&&Object(H["a"])(e.formSections.biological,"results.bioQualityIndex")}},mutations:($={},Object(A["a"])($,M,(function(e,n){for(var t=0,c=Object.keys(n);t<c.length;t++){var a=c[t];o["a"].set(e.formSections,a,n[a])}})),Object(A["a"])($,x,(function(e,n){e.userPosition=n})),Object(A["a"])($,N,(function(e,n){e.activeSectionId=n})),Object(A["a"])($,U,(function(e,n){e.user=n})),Object(A["a"])($,B,(function(e,n){e.userRiverSections=n})),Object(A["a"])($,q,(function(e,n){e.formSections[n.name].isValid=n.isValid})),Object(A["a"])($,F,(function(e,n){o["a"].set(e.formSections[n.name],"results",Object(R["a"])({},n.values)),o["a"].set(e.formSections[n.name],"isValid",n.isValid)})),Object(A["a"])($,G,(function(e){Object.keys(e.formSections).forEach((function(n){o["a"].set(e.formSections[n],"results",{}),o["a"].set(e.formSections[n],"isValid",!1)}))})),$),actions:{setActiveUser:function(e,n){e.commit(U,n)},loadRiverSections:function(e,n){e.commit(B,n)},loadFormData:function(e,n){e.commit(M,n)},setActiveSection:function(e,n){e.commit(N,n)},setUserPosition:function(e,n){e.commit(x,n)},setSectionState:function(e,n){var t={name:n.name,isValid:n.isValid};e.commit(q,t)},updateSectionValues:function(e,n){var t=Object(R["a"])({name:e.getters.activeSectionName},n);e.commit(F,t)},updateSpecificSectionValues:function(e,n){e.commit(F,n)},clearFormResponses:function(e){e.commit(N,0),e.commit(G)},clearRiverSections:function(e){e.commit(B,[])}},modules:{}});o["a"].use(h["a"]);var Z=[{path:"/",name:"welcome",beforeEnter:function(e,n,t){Q.getters.userIsLogged?t():t({name:"login"})},component:O},{path:"/login",name:"login",component:D},{path:"/formfields",name:"formfields",beforeEnter:function(e,n,t){Q.getters.userIsLogged?t():t({name:"login"})},component:function(){return t.e("formfields").then(t.bind(null,"6da4"))}},{path:"/formpictos",name:"formpictos",beforeEnter:function(e,n,t){Q.getters.userIsLogged?t():t({name:"login"})},component:function(){return t.e("formpictos").then(t.bind(null,"68ec"))}},{path:"/about",name:"about",component:function(){return t.e("about").then(t.bind(null,"d7a9"))}}],z=new h["a"]({routes:Z}),J=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(n,t,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q.restored;case 2:o();case 3:case"end":return e.stop()}}),e)})));return function(n,t,o){return e.apply(this,arguments)}}();z.beforeEach(J);var K=z,W=t("61da"),X=t("9483");Object(X["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),W["a"].$on("launch_update",(function(){console.log("me llama de vuelta"),console.log("reload aplicación"),location.reload()})),W["a"].$emit("update_available")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ee=t("289d"),ne=(t("5363"),t("4a31")),te=t("0dae"),oe=t("b166"),ce=t("d546"),ae={data:function(){return{currentDateTime:(new Date).getTime(),spainLocaleObj:ce["a"]}},methods:{$_calculeGraphOffset:function(e){var n=-1*new Date(e).getTimezoneOffset()/60;return n},$_calculeDatesToNowCast:function(){var e=new Date(this.currentDateTime),n=Object(te["a"])(e,1);return{ini:this._formatDateRequestData(e),end:this._formatDateRequestData(n)}},$_getDateNowtoRequest:function(){return this._formatDateRequestData(this.currentDateTime)},$_getLocalDate:function(){var e=Object(oe["a"])(this.currentDateTime,"dd/MM/yyyy");return e},$_getLocalTime:function(){var e=Object(oe["a"])(this.currentDateTime,"HH:mm");return e},_formatDateRequestData:function(e){var n=Object(ne["formatToTimeZone"])(e,"YYYY-MM-DD[T]HH:mm:ss.S",{timeZone:"Etc/UTC"})+"Z";return n}}},re={computed:{isComputedOnline:function(){return this.isOnline}}};o["a"].mixin(ae),o["a"].mixin(re),o["a"].use(a.a,{mixin:!0,storage:!1}),o["a"].use(ee["a"]),o["a"].config.productionTip=!1,new o["a"]({router:K,store:Q,render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var o=t("9c0c"),c=t.n(o);c.a},"61da":function(e,n,t){"use strict";var o=t("a026"),c=new o["a"];n["a"]=c},"8e89":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var o={mounted:function(){var e=this;this.$root.$on("backbutton",(function(){e.backbuttonPulsed=!0}))},data:function(){return{backbuttonPulsed:!1}},beforeRouteLeave:function(e,n,t){var o=this;this.$nextTick((function(){o.computedbackButtonPulsed?(t(!1),o.backbuttonPulsed=!1):t()}))},computed:{computedbackButtonPulsed:function(){return this.backbuttonPulsed}}}},"9c0c":function(e,n,t){},b20e:function(e,n,t){"use strict";var o=t("fc19"),c=t.n(o);c.a},fa7d:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return c}));t("d81d"),t("d3b7"),t("ac1f"),t("3ca3"),t("1276"),t("ddb0");var o=function(e,n){return+(Math.round(e+"e+"+n)+"e-"+n)},c=function(e,n){if(!n)return!1;for(var t=n.split("."),o=0;o<t.length;o++){var c=t[o];if(!e||!e.hasOwnProperty(c))return!1;e=e[c]}return!0}},fc19:function(e,n,t){},fe7f:function(e,n,t){"use strict";var o=t("146d"),c=t.n(o);c.a}});
//# sourceMappingURL=app.599df8bd.js.map