(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00e5c7ba"],{"0331":function(e,t,a){e.exports=a.p+"img/goodGame2.549a6838.jpg"},"0e7b":function(e,t,a){var n={"./badGame1.jpg":"b9a5","./badGame2.jpg":"ff88","./clearGame.jpg":"10d3","./decontaminateGame.jpg":"7a19","./goodGame1.jpg":"92cb","./goodGame2.jpg":"0331","./sowGame.jpg":"d1d2","./titleGame.jpg":"9097"};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="0e7b"},"10d3":function(e,t,a){e.exports=a.p+"img/clearGame.210b7b05.jpg"},5797:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return p}));a("99af"),a("96cf");var n=a("1da1"),i={public:"https://apiriosconciencia.ihcantabria.com/v1/public/RiosConCiencia"},s=a("bc3a"),r=a.n(s),o={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS"},c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(i.public,"/Authenticate"),s={email:t,password:a},e.next=4,r.a.post(n,s);case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(i.public,"/GetRiverSectionsByUserId/").concat(a),o.Authorization="Bearer ".concat(t),e.next=4,r.a.get(n,{headers:o});case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(i.public,"/GetSectionsExpertMasterData"),o.Authorization="Bearer ".concat(t),e.next=4,r.a.get(a,{headers:o});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="".concat(i.public,"/GetSectionsPictsMasterData"),o.Authorization="Bearer ".concat(t),e.next=4,r.a.get(a,{headers:o});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(i.public,"/SaveSample"),o.Authorization="Bearer ".concat(t),e.next=4,r.a.post(n,a,{headers:o});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="".concat(i.public,"/SaveSamplePict"),o.Authorization="Bearer ".concat(t),e.next=4,r.a.post(n,a,{headers:o});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},"79eb":function(e,t,a){"use strict";var n=a("b3b0"),i=a.n(n);i.a},"7a19":function(e,t,a){e.exports=a.p+"img/decontaminateGame.53e72887.jpg"},"7db0":function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").find,s=a("44d2"),r=a("ae40"),o="find",c=!0,u=r(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},"865e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-section"},[a("div",[e.isFormPictsValid?a("div",{staticClass:"block"},[a("b-message",{staticClass:"results-display",attrs:{title:"Estado del Río",type:e.isFormGood?"is-success":"is-warning",closable:!1}},[a("div",{staticClass:"info-section"},[a("div",{staticClass:"info-step"},[a("div",{staticClass:"info-step__header"},[a("b-field",{staticClass:"info-section__text",attrs:{message:e.stateMessage}})],1),e.isFormGood?a("div",{staticClass:"info-step__body"},[a("img",{attrs:{src:e.$_getImgUrl(e.formSections.game.id,0,1)}}),a("img",{attrs:{src:e.$_getImgUrl(e.formSections.game.id,0,2)}})]):a("div",{staticClass:"info-step__body"},[a("img",{attrs:{src:e.$_getImgUrl(e.formSections.game.id,0,3)}}),a("img",{attrs:{src:e.$_getImgUrl(e.formSections.game.id,0,4)}})])])])])],1):e._e(),e.isFormGood?e._e():a("div",{staticClass:"minigame"},[a("div",{staticClass:"img-header"},[a("img",{staticClass:"img-header__pic",attrs:{src:e.$_getImgUrl(e.formSections.game.id,0,0)}}),a("b-icon",{staticClass:"img-header__icon",attrs:{icon:"checkbox-marked-circle-outline",type:"is-info"}})],1),a("b-field",{attrs:{message:"Marcamos las actividades que podemos realizar para que el río mejore. De esta manera, conseguiremos que el estado del río sea bueno."}}),a("b-field",{staticClass:"img-section"},[e.isClearAvailable?a("div",{staticClass:"img-container"},[a("span",{staticClass:"img-option-text"},[e._v("LIMPIAR LA BASURA DEL RÍO")]),a("b-checkbox-button",{staticClass:"img-option",attrs:{"native-value":!1},model:{value:e.cleaned,callback:function(t){e.cleaned=t},expression:"cleaned"}},[a("img",{class:1==e.cleaned?"img-option__active":"img-option__inactive",attrs:{src:e.$_getImgUrl(e.formSections.game.id,1,1)}}),a("div",{class:["overlay",1==e.cleaned?"overlay__active":"overlay__inactive"]})])],1):e._e(),e.isDecontaminateAvailable?a("div",{staticClass:"img-container"},[a("span",{staticClass:"img-option-text"},[e._v("NO CONTAMINAR")]),a("b-checkbox-button",{staticClass:"img-option",attrs:{"native-value":!1},model:{value:e.decontaminated,callback:function(t){e.decontaminated=t},expression:"decontaminated"}},[a("img",{class:1==e.decontaminated?"img-option__active":"img-option__inactive",attrs:{src:e.$_getImgUrl(e.formSections.game.id,2,1)}}),a("div",{class:["overlay",1==e.decontaminated?"overlay__active":"overlay__inactive"]})])],1):e._e(),e.isSowAvailable?a("div",{staticClass:"img-container"},[a("span",{staticClass:"img-option-text"},[e._v("PLANTAR PLANTAS BUENAS")]),a("b-checkbox-button",{staticClass:"img-option",attrs:{"native-value":!1},model:{value:e.sowed,callback:function(t){e.sowed=t},expression:"sowed"}},[a("img",{class:1==e.sowed?"img-option__active":"img-option__inactive",attrs:{src:e.$_getImgUrl(e.formSections.game.id,3,1)}}),a("div",{class:["overlay",1==e.sowed?"overlay__active":"overlay__inactive"]})])],1):e._e()])],1),e.isComputedOnline?e._e():a("div",{staticClass:"block"},[e.isFormPictsValid?e._e():a("b-message",{staticClass:"results-display",attrs:{title:"Estado sin conexión",type:"is-warning",closable:!1}},[e._v(" Actualmente te encuentras sin conexión a internet, no podras enviar el formulario hasta que dispongas de conexión. ")]),a("b-message",{staticClass:"results-display",attrs:{else:"",title:"Estado sin conexión",type:"is-warning",closable:!1}},[e._v(" Actualmente te encuentras sin conexión a internet, mantente en esta pantalla y espera a tener conexión para enviar el formulario. ")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isReadySend,expression:"isReadySend"}],staticClass:"big-button"},[a("b-button",{attrs:{type:"is-danger",size:"is-medium",expanded:"",disabled:e.isSendActive},on:{click:function(t){return e.sendSampleData()}}},[e._v("Enviar Resultados")])],1),a("spinner",{attrs:{"is-loading":e.isSendingData}})],1)},i=[],s=(a("7db0"),a("b64b"),a("d3b7"),a("ddb0"),a("96cf"),a("1da1")),r=a("5530"),o=a("5797"),c=a("2f62"),u=a("ce86"),l={mixins:[u["a"]],components:{spinner:function(){return a.e("chunk-5e45d951").then(a.bind(null,"3a5e"))}},data:function(){return{stateMessage:"El río presenta un buen estado por lo que podemos: pescar peces y comerlos, regar las huertas donde cultivamos frutas y verduras y  jugar y disfrutar en él.",cleaned:!1,sowed:!1,decontaminated:!1,isSendingData:!1,isSendActive:!1,values:{gameState:null}}},computed:Object(r["a"])({},Object(c["d"])({user:function(e){return e.user},formSections:function(e){return e.formPictsSections},game:function(e){return e.formPictsSections.game},goodPlantsAbsence:function(e){return e.goodPlantsAbsence},garbageAbsence:function(e){return e.garbageAbsence},goodAnimalsAbsence:function(e){return e.goodAnimalsAbsence}}),{},Object(c["c"])({activeSectionName:"activeSectionName",badPlants:"badPlants",garbageExist:"garbageExist",isSmellGood:"isSmellGood",isColorGood:"isColorGood",isFormPictsValid:"isFormPictsValid"}),{isSectionValid:function(){return!0},isFormGood:function(){return 2!=this.values.gameState.value},gameStatus:function(){return this.isFormPictsValid?this.calculateStatus():null},isRiverFine:function(){return!this.goodPlantsAbsence&&0==this.badPlants.length&&(this.garbageAbsence||!this.garbageExist)&&!this.goodAnimalsAbsence&&this.isSmellGood&&this.isColorGood},isRiverSick:function(){return!this.isClear&&this.isClearAvailable||!this.isSow&&this.isSowAvailable||!this.isDecontaminate&&this.isDecontaminateAvailable},isFormPictsCorrect:function(){return this.values.gameState!=this.game.data.gameStateOptions.find((function(e){return 2==e.value}))},isReadySend:function(){return this.isFormPictsValid&&this.isComputedOnline&&this.isFormPictsCorrect},isClearAvailable:function(){return!(this.garbageAbsence||!this.garbageExist)},isSowAvailable:function(){return!!(this.goodPlantsAbsence||this.badPlants.length>0)},isDecontaminateAvailable:function(){return!(this.isSmellGood&&this.isColorGood&&!this.goodAnimalsAbsence)},isClear:function(){return this.cleaned},isSow:function(){return this.sowed},isDecontaminate:function(){return this.decontaminated}}),created:function(){this._loadAssests()},mounted:function(){this.init()},beforeUpdate:function(){this.updateSpecificPictsSectionValues({name:"game",values:this.values,isValid:this.isSectionValid})},watch:{gameStatus:{immediate:!0,handler:function(e,t){void 0!=e&&(this.values.gameState=e,null!=e&&e!=t&&(this.setNewMessage(e.value),"game"==this.activeSectionName&&window.scrollTo(0,0)))}}},methods:Object(r["a"])({},Object(c["b"])({updateSpecificPictsSectionValues:"updateSpecificPictsSectionValues"}),{init:function(){this.cleaned=!1,this.sowed=!1,this.decontaminated=!1},_loadAssests:function(){this.imgFolder=a("0e7b")},calculateStatus:function(){var e;return e=this.isRiverFine?this.game.data.gameStateOptions.find((function(e){return 1==e.value})):this.isRiverSick?this.game.data.gameStateOptions.find((function(e){return 2==e.value})):this.game.data.gameStateOptions.find((function(e){return 3==e.value})),e},setNewMessage:function(e){this.stateMessage=1==e?"El río presenta un buen estado por lo que podemos: pescar peces y comerlos, regar las huertas donde cultivamos frutas y verduras y  jugar y disfrutar en él.":2==e?"El río presenta un mal estado. Sin embargo queremos que el río esté bien. ¿Qué podemos hacer?":"Con las actividades que hemos seleccionado para mejorar el río, conseguimos que el río esté bien y podamos: pescar peces y comerlos, regar las huertas donde cultivamos frutas y verduras y  jugar y disfrutar en él."},sendSampleData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSendActive=!0,a=e._prepareSampleObj(),t.prev=2,e.isSendingData=!0,t.next=6,Object(o["f"])(e.user.token,a);case 6:n=e.$buefy.toast.open({message:"¡Enhorabuena! El formulario se ha enviado con éxito",type:"is-success",duration:6e3}),n.$on("close",(function(){e.isSendActive=!1,e.$root.$emit("clearPicts")})),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),i=e.$buefy.toast.open({message:"Ooops, se ha producido un error intentando enviar el formulario",type:"is-danger",duration:6e3}),i.$on("close",(function(){e.isSendActive=!1}));case 14:return t.prev=14,e.isSendingData=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,10,14,17]])})))()},_prepareSampleObj:function(){for(var e={},t=0,a=Object.keys(this.formSections);t<a.length;t++){var n=a[t];e=Object(r["a"])({},e,{},this.formSections[n].results,{user:this.user})}return e}})},d=l,m=(a("79eb"),a("2877")),p=Object(m["a"])(d,n,i,!1,null,"c62c1272",null);t["default"]=p.exports},9097:function(e,t,a){e.exports=a.p+"img/titleGame.43294c2b.jpg"},"92cb":function(e,t,a){e.exports=a.p+"img/goodGame1.e13b66e8.jpg"},b3b0:function(e,t,a){},b9a5:function(e,t,a){e.exports=a.p+"img/badGame1.49f1c13d.jpg"},ce86:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("fa7d"),i={data:function(){return{imgFolder:null,helpActive:!1}},computed:{isHelpActive:function(){return this.helpActive}},methods:{$_getImgUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.imgFolder?this.imgFolder("./".concat(Object(n["d"])(e,t,a))):""},$_toggleHelp:function(){this.helpActive=!this.helpActive}}}},d1d2:function(e,t,a){e.exports=a.p+"img/sowGame.1b378b58.jpg"},ff88:function(e,t,a){e.exports=a.p+"img/badGame2.8fc22d05.jpg"}}]);