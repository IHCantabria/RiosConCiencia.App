(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b8bdc52"],{"004e":function(e,a,i){"use strict";i.r(a);var n=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"form-section"},[e.isFormValid?i("div",{staticClass:"block"},[i("b-message",{attrs:{title:"Resumen",type:"is-success"}},[i("b-field",{attrs:{label:"Hábitat Fluvial"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[e._v(e._s(e.bioQuality.results.bioQualityIndex.name))])],1),i("b-field",{attrs:{label:"Calidad Biológica del Agua"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[e._v(e._s(e.bioQuality.results.bioQualityIndex.name))])],1),i("b-field",{attrs:{label:"Calidad del Bosque de Ribera"}},[i("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[e._v(e._s(e.riverQuality.results.qrisiIndex.cat.name))])],1)],1)],1):e._e(),i("h5",{staticClass:"title is-5"},[e._v("8. Estado ecológico")]),i("div",[e.isFormValid?i("div",{staticClass:"block"},[i("b-message",{attrs:{title:e.ecoStatus.name,type:"is-info",closable:!1}},[e._v(" "+e._s(e.ecoStatus.description)+" "),i("div",{staticClass:"results__rate"},[i("b-rate",{attrs:{"icon-pack":"mdi",icon:"star",size:"is-medium","show-text":!1,disabled:!0},model:{value:e.ecoStatus.value,callback:function(a){e.$set(e.ecoStatus,"value",a)},expression:"ecoStatus.value"}})],1)])],1):i("div",{staticClass:"block"},[i("b-message",{attrs:{title:"Formulario incompleto",type:"is-warning",closable:!1}},[e._v(" Hace falta completar la CALIDAD DEL AGUA y la CALIDAD DEL BOSQUE DE RIBERA para ver el resultado del Estado Ecológico. ")])],1)]),i("div",{staticClass:"big-button"},[i("b-button",{attrs:{type:"is-danger",size:"is-medium",expanded:"",disabled:!e.isFormValid},on:{click:function(a){return e.sendSampleData()}}},[e._v("Enviar Resultados")])],1)])},t=[],o=(i("a4d3"),i("4de4"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("159b"),i("96cf"),i("ade3")),s=i("5797"),r=i("2f62");function d(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var a=1;a<arguments.length;a++){var i=null!=arguments[a]?arguments[a]:{};a%2?d(Object(i),!0).forEach((function(a){Object(o["a"])(e,a,i[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))}))}return e}var u={name:"FormEcoResult",computed:c({},Object(r["d"])({user:function(e){return e.user},statusOptions:function(e){return e.formSections.ecoResult.data.ecologicalStateOptions},formSections:function(e){return e.formSections},riverQuality:function(e){return e.formSections.riverQuality},bioQuality:function(e){return e.formSections.biological}}),{},Object(r["c"])({isFormValid:"isFormValid"}),{ecoStatus:function(){return this.isFormValid?this.calculateStatus():null}}),methods:{calculateStatus:function(){var e=this.riverQuality.results.qrisiIndex.cat.value,a=this.bioQuality.results.bioQualityIndex.value;return 3===e?this._getStatusForGoodQrisi(a):2===e?this._getStatusForIntermediateQrisi(a):1===e?this._getStatusForBadQrisi(a):void 0},sendSampleData:function(){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=this._prepareSampleObj(),a.prev=1,a.next=4,regeneratorRuntime.awrap(Object(s["d"])(this.user.token,e));case 4:this.$buefy.toast.open({message:"¡Enhorabuena! El formulario se ha enviado con éxito",type:"is-success"}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),this.$buefy.toast.open({message:"Ooops, se ha producido un error intentando enviar el formulario",type:"is-danger"});case 10:case"end":return a.stop()}}),null,this,[[1,7]])},_prepareSampleObj:function(){for(var e={},a=0,i=Object.keys(this.formSections);a<i.length;a++){var n=i[a];e=c({},e,{},this.formSections[n].results,{user:this.user})}return e},_getStatusForGoodQrisi:function(e){return 5===e?this.statusOptions[0]:4===e?this.statusOptions[1]:3===e?this.statusOptions[2]:2===e?this.statusOptions[3]:this.statusOptions[4]},_getStatusForIntermediateQrisi:function(e){return 5===e?this.statusOptions[1]:4===e?this.statusOptions[2]:3===e?this.statusOptions[3]:this.statusOptions[4]},_getStatusForBadQrisi:function(e){return 5===e?this.statusOptions[2]:4===e?this.statusOptions[3]:this.statusOptions[4]}}},l=u,m=(i("c02b"),i("2877")),p=Object(m["a"])(l,n,t,!1,null,"096ececc",null);a["default"]=p.exports},"089a":function(e,a,i){},5797:function(e,a,i){"use strict";i("99af"),i("d3b7"),i("96cf");var n={public:"https://apiriosconciencia.ihcantabria.com/v1/public/RiosConCiencia"},t=i("bc3a"),o=i.n(t);i.d(a,"a",(function(){return c})),i.d(a,"c",(function(){return r})),i.d(a,"b",(function(){return d})),i.d(a,"d",(function(){return u}));var s={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS"},r=function(){var e,a,i;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(n.public,"/Authenticate"),a={email:"admin@admin.com",password:"admin"},t.next=4,regeneratorRuntime.awrap(o.a.post(e,a));case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}))},d=function(e){var a,i,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return a="".concat(n.public,"/GetRiverSectionsByUserId/").concat(e),i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjU2NiIsIm5iZiI6MTU3OTg2NjE1NSwiZXhwIjoxNTgwNDcwOTU1LCJpYXQiOjE1Nzk4NjYxNTV9.CAoncGlSpvNvy954yyS7PI8S-q4ngbsu_DSuImwZWOI",s.Authorization="Bearer ".concat(i),r.next=5,regeneratorRuntime.awrap(o.a.get(a,{headers:s}));case 5:return t=r.sent,r.abrupt("return",t.data);case 7:case"end":return r.stop()}}))},c=function(e){var a,i;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(n.public,"/GetSectionsMasterData"),e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjU2NiIsIm5iZiI6MTU3OTg2NjE1NSwiZXhwIjoxNTgwNDcwOTU1LCJpYXQiOjE1Nzk4NjYxNTV9.CAoncGlSpvNvy954yyS7PI8S-q4ngbsu_DSuImwZWOI",s.Authorization="Bearer ".concat(e),t.next=5,regeneratorRuntime.awrap(o.a.get(a,{headers:s}));case 5:return i=t.sent,t.abrupt("return",i.data);case 7:case"end":return t.stop()}}))},u=function(e,a){var i,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return i="".concat(n.public,"/SaveSample"),e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjU2NiIsIm5iZiI6MTU3OTg2NjE1NSwiZXhwIjoxNTgwNDcwOTU1LCJpYXQiOjE1Nzk4NjYxNTV9.CAoncGlSpvNvy954yyS7PI8S-q4ngbsu_DSuImwZWOI",s.Authorization="Bearer ".concat(e),a={riverbankNaturalness:{id:3,name:"Bardales/ árboles alineados",value:2},riverbankConections:{id:2,name:"Parcial (campos agrícolas)",value:3},riverbankVegetations:{id:3,name:"Escasa / nula",value:0},qrisiIndex:{cat:{id:2,name:"Media, alteración importante",nameValues:"4 a 8 puntos",value:2,description:"El bosque de ribera presenta alteraciones importantes. A pesar de ello, en estas condiciones se puede producir una regeneración de los factores que han causado la alteración. La falta de árboles o la presencia de estos de forma alineada con campos en la zona de ribera adyacente, puede ser objeto de una restauración que renueve la conexión con los ecosistemas adyacentes y asegure la continuidad de la ribera.",minPoints:5,maxPoints:8},totalPoints:5},waterFlow:"true",waterLevel:{id:1,name:"Si"},waterColor:{id:3,name:"Fangosa"},waterSmell:{id:5,name:"Alcantarilla"},waterElements:[{id:1,name:"Aceites"},{id:2,name:"Espumas"}],waterLevelCriticalProblem:"BABABA",riverBedWidth:{id:2,name:"1-2"},riverBedDepth:{id:3,name:"50-100"},riversideWidthLeft:{id:3,name:"5-20"},riversideWidthRight:{id:3,name:"5-20"},riverMarginConditionsLeft:[{id:1,name:"Erosionadas"},{id:8,name:"Con paseos o caminos a la ribera"},{id:3,name:"Con arbustos"},{id:10,name:"Canalizadas"},{id:11,name:"Urbanizadas"}],riverMarginConditionsRight:[{id:5,name:"Con playas"},{id:10,name:"Canalizadas"},{id:7,name:"Bordes desbrozados"}],riverMarginLandUseLeft:[{id:3,name:"Camping"},{id:8,name:"Carreteras"},{id:5,name:"Aparcamientos"},{id:6,name:"Ganadería"}],riverMarginLandUseRight:[{id:6,name:"Ganadería"},{id:1,name:"Industrial"},{id:3,name:"Camping"},{id:7,name:"Agricultura"}],spillsList:[{position:{longitude:"-3.87564",latitude:"43.44709"},diameter:{id:3,name:"1-2"},flow:{id:4,name:"Goteo"},color:{id:3,name:"Blanquecino"},smell:{id:3,name:"Huevos podridos"},source:{id:2,name:"Industrial"}},{position:{longitude:"-3.87564",latitude:"43.44709"},diameter:{id:4,name:">2"},flow:{id:3,name:"Pequeño"},color:{id:1,name:"Transparente"},smell:{id:1,name:"Inoloro"},source:{id:3,name:"Doméstico"}}],wasteList:[{id:30,idWasteType:3,name:"Palos de helados, cubiertos, etc",units:4},{id:35,idWasteType:4,name:"Latas de bebida",units:4},{id:41,idWasteType:4,name:"Botes de pintura",units:2},{id:46,idWasteType:6,name:"Preservativos",units:6}],stonesInPools:{id:3,name:"Moderado",points:5},substrateComposition:[{id:1,name:"Bloques y piedras",value:{id:1,name:"< 10%",points:2}},{id:2,name:"Cantos y gravas",value:{id:2,name:"> 10%",points:5}},{id:3,name:"Arena",value:{id:1,name:"< 10%",points:2}},{id:4,name:"Limo y arcilla",value:{id:2,name:"> 10%",points:5}}],rapidsFrequency:{id:3,name:"Ocasional",points:6},velocityAndDepth:{id:1,name:"Las 4 categorías",points:10},riverShadows:{id:1,name:"Sombreado con ventanas",points:10},randomElements:[{id:1,name:"Hojarasca",value:{id:1,name:"Presencia",points:2}},{id:2,name:"Troncos y Ramas",value:{id:3,name:"No",points:0}},{id:3,name:"Raíces descubiertas",value:{id:2,name:"10% - 75%",points:4}},{id:4,name:"Diques naturales",value:{id:2,name:"10% - 75%",points:4}}],aquaticVegetation:[{id:1,name:"Algas filamentosas, musgos y hepáticas",value:{id:1,name:"Alta",points:5}},{id:2,name:"Algas adheridas a las piedras",value:{id:2,name:"Mod",points:10}},{id:3,name:"Plantas superiores y flotantes",value:{id:3,name:"Baja",points:5}}],habitatIndex:{cat:{id:1,name:"Habitat bien constituido",nameValues:"> 60 puntos",value:3,description:"Hábitat bien constituido. Excelente para el desarrollo de las comunidades de macroinvertebrados. Se pueden aplicar los índices biológicos (Invertebrados y QRISI) sin restricciones.",minPoints:61,maxPoints:100},totalPoints:71},samplePointCoords:{lon:"-3.87564",lat:"43.44709"},samplePointWidth:.5,samplePointDepth:1.3,samplePointWaterVelocity:.7,samplePointWaterTemp:21,samplePointWaterTransparency:[{id:4,name:"3"}],riverEcosystem:[{id:1,name:"Espiga de agua (Potamogeton natans)",options:[]},{id:3,name:"Lenteja flotante",options:[]},{id:7,name:"Berraza",options:[]},{id:10,name:"Enea",options:[]},{id:12,name:"Junco",options:[]},{id:13,name:"Dulcamara",options:[]},{id:14,name:"Epilobio",options:[]},{id:15,name:"Menta",options:[]},{id:18,name:"Saxifraga dorada",options:[]},{id:22,name:"Tojo",options:[]},{id:21,name:"Pimienta acuática",options:[]},{id:20,name:"Ortiga",options:[]},{id:25,name:"Helecho común",options:[]},{id:26,name:"Helecho de hoja grande",options:[]},{id:27,name:"Helecho de hoja pequeña",options:[]},{id:28,name:"Helecho real o antojil",options:[]},{id:32,name:"Nueza negra",options:[]},{id:33,name:"Rosa silvestre",options:[]},{id:34,name:"Rubia peregrina",options:[]},{id:41,name:"Haya",options:[]},{id:40,name:"Fresno",options:[]},{id:39,name:"Chopo",options:[]},{id:47,name:"Cornejo",options:[]},{id:46,name:"Avellano",options:[]},{id:85,name:"Cangrejo de río",options:[]},{id:87,name:"Cangrejo señal",options:[]},{id:104,name:"Anguila",options:[]},{id:113,name:"Alburno",options:[]},{id:116,name:"Desmán ibérico",options:[]},{id:120,name:"Musgaño patiblanco",options:[]},{id:124,name:"Visón americano",options:[]},{id:126,name:"Crustáceos",options:[{id:3,name:"Gammaridos"}]},{id:127,name:"Turbelarios / planarios",options:[]},{id:137,name:"Dípteros",options:[{id:33,name:"Atericéridos"},{id:34,name:"Blefacéridos"},{id:35,name:"Quironómidos (rojo)"},{id:36,name:"Quironómidos (verde)"},{id:37,name:"Simúlidos"},{id:38,name:"Sírfidos"},{id:39,name:"Tipúlidos"}]},{id:77,name:"Gallineta común",options:[]},{id:80,name:"Lavandera blanca",options:[]},{id:79,name:"Garza real",options:[]},{id:91,name:"Ranita de San Antonio",options:[]},{id:93,name:"Salamandra rabilarga",options:[]},{id:94,name:"Sapillo pintojo ibérico",options:[]},{id:97,name:"Sapo corredor",options:[]},{id:102,name:"Culebra de collar",options:[]}],riverEcosystemInvPlantsCoverage:[],riverEcosystemSpecies:[{id:3,name:"Gammaridos"},{id:36,name:"Quironómidos (verde)"},{id:38,name:"Sírfidos"}],bioQualityIndex:{id:1,name:"Muy Buena",value:5,description:"Todos los organismos identificados corresponden con un muy buen estado (azul) o en algún caso bueno (verde), dominando siempre los organismos correspondientes con el muy buen estado. Si se identifica al menos un organismo correspondiente con un estado malo (marrón) o muy malo (rojo), y aún dominando el muy bueno, el estado correspondiente no será muy bueno sino bueno."},RiverMarginConditions:[{id:1,name:"Erosionadas"},{id:8,name:"Con paseos o caminos a la ribera"},{id:3,name:"Con arbustos"}],RiverMarginLandUse:[{id:3,name:"Camping"},{id:8,name:"Carreteras"},{id:5,name:"Aparcamientos"},{id:6,name:"Ganadería"}],WeatherToday:{id:1,name:"Soleado"},RiverSection:{id:42,name:"Arroyo de Otero (Miera)",coordX:-3.88740318,coordY:43.45409779,municipality:"Santa Cruz de Bezana",riverName:"Otero",riverType:"arroyo",catchment:"Miera",riverAlias:null},Weather48h:{id:1,name:"Soleado"},BioQuality:{id:1,name:"Muy Buena",value:5,description:"Todos los organismos identificados corresponden con un muy buen estado (azul) o en algún caso bueno (verde), dominando siempre los organismos correspondientes con el muy buen estado. Si se identifica al menos un organismo correspondiente con un estado malo (marrón) o muy malo (rojo), y aún dominando el muy bueno, el estado correspondiente no será muy bueno sino bueno."},EcoStatus:{cat:{id:1,name:"Muy bueno",description:"Sin alteraciones humanas",value:5},totalPoints:5}},r.next=6,regeneratorRuntime.awrap(o.a.post(i,a,{headers:s}));case 6:return t=r.sent,console.log(t),console.log(t),r.abrupt("return",t);case 10:case"end":return r.stop()}}))}},c02b:function(e,a,i){"use strict";var n=i("089a"),t=i.n(n);t.a}}]);
//# sourceMappingURL=chunk-2b8bdc52.a8dadb8b.js.map